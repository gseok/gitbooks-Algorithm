### 세그먼트 트리\(Segment Tree\)

#### 기본 개념 정리

일반적인 트리의 node들이 어떤 값이나 객체를 나타내는 것과 달리, 트리의 node들이 범위을 나타내고 있는 경우, 이를 세그먼트 트리 라고 한다.

![](/assets/segmentTree.png)

그림 출처: [http://blog.naver.com/PostView.nhn?blogId=kks227&logNo=220791986409](http://blog.naver.com/PostView.nhn?blogId=kks227&logNo=220791986409)

예를 들어 어떤 아이템이 0 ~ 7 까지 있다고 가정하자. 그리고 해당 아이템을 구간\(범위\) 별로 더한 값이 필요하다고 가정하자.

이때, 구간이 랜덤하게 주어졌을때, 해당 구간의 값을 구하려면, 항상 구간을 자르고, 해당 구간만큼 더하는 연산이 필요하다.

하지만 위와 같이 세그먼트 트리를 구성하면, 랜덤한 구간이 주어졌을때, 해당 구간에 대한 값을 바로 가져올 수 있다.

**세그먼트 트리의 핵심은, 트리의 노드가 구간을 의미 \(혹은 해당 구간 만큼의 값을 의미\) 한다는 점이다.**



#### 이론 핵심 요약

* 노드를 순서대로 나열하는 알고리즘
  * 방향 그래프에서, 정점을 순서에 맞게 나열하는 것 \(게임의 스킬 트리를 생각하면됨\)
  * **순환\(사이클\)이 있으면 안됨**
  * 어떤 작업에 `단계`가 \(순서가\) 반드시 지켜져야 하는 겨우 이를 `나열`하는데 사용
  * 복잡도 O\(V + E\)
    * DFS나 BFS 형태로 만들 수 있다.
    * 인접 행렬 사용시 O\(V^2\)까지 나올 수도 있음.

#### 구현 핵심 요약

Java로 설명한다.



##### 필요한 요소

* 그래프를 표현한 자료구조 \(ArrayList \| Array\) - e.g\) `int [][] graph`
* 방문 체크 자료구조 \(int\[\] visited\) - e.g\) `int [] visited`
* 위상으로 정렬된 노드를 저장할 자료 구조 \(ArrayList, Array\) - e.g\) `ArrayList<Integer> sortedGraph`

##### 코드

```java

```



